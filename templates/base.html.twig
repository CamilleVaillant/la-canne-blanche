<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}La Canne Blanche{% endblock %}</title>

        <!-- Web App Meta -->
        <meta name="apple-mobile-web-app-title" content="La Canne Blanche" />
        <link rel="manifest" href="{{ asset('site.webmanifest') }}" />

        <!-- Favicon -->
        <link rel="icon" type="image/png" href="{{ asset('favicon-96x96.png') }}" sizes="96x96" />
        <link rel="icon" type="image/svg+xml" href="{{ asset('favicon.svg') }}" />
        <link rel="shortcut icon" href="{{ asset('favicon.ico') }}" />
        <link rel="apple-touch-icon" sizes="180x180" href="{{ asset('apple-touch-icon.png') }}" />


        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
            {{ encore_entry_script_tags('app') }}
        {% endblock %}

        {% block javascripts %}
            {# {{ encore_entry_script_tags('app') }}
            {% block importmap %}{{ importmap('app') }}{% endblock %} #}
        {% endblock %}
    </head>
    <body>

        <nav>
             <!-- Menu burger -->
            <div class="menu-toggle" id="menu-toggle">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>

            {# Menu de navigation #}

            <ul class="nav-list" id="nav-list">
                    
            
                <li><a class="{% if app.request.attributes.get('_route') == 'app_home' %} active {% endif %}" href="{{ path('app_home') }}">le salon</a></li>
                <li><a class="{% if app.request.attributes.get('_route') == 'app_team' %} active {% endif %}" href="{{ path('app_team') }}">l'equipe</a></li>
                <li><a class="{% if app.request.attributes.get('_route') == 'app_gallery' %} active {% endif %}" href="{{ path('app_gallery') }}">gallerie</a></li>

               
               

            </ul>
        </nav>

        {% block body %}{% endblock %}

        <footer>
            <ul>
                <li><h1>la canne blanche</h1></li>
                <li><a href="">56 Cours de l'Agonne Bordeaux</a></li>
                <li><a href="">la Canne Blanche</a></li>
            </ul>
            <ul>
                <li>
                    <p>Lundi.....ferm√©</p>
                </li>
                <li>
                    <p>Mardi.....11h/19h</p>
                </li>
                <li>
                    <p>Mercredi....11h/19h</p>
                </li>
                <li>
                    <p>Jeudi.....11h/19h</p>
                </li>
                <li>
                    <p>Vendredi.....11h/19h</p>
                </li>
                <li>
                    <p>Samedi.....11h/19h</p>
                </li>
                <li>
                    <p>Dimanche.....ferm√©</p>
                </li>
            </ul>
            <ul>
                <li><p>¬© 2025 La Canne Blanche. Tous droits r√©serv√©s.</p></li>
                <li><a href="#">üîê Politique de confidentialit√©</a></li>
                <li><a href="#">üìú Mentions l√©gales</a></li>
            </ul>
        </footer>


        <script>
        let lastScrollTop = 0;
            const nav = document.querySelector('nav');

            window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset || document.documentElement.scrollTop;

            if (currentScroll > lastScrollTop) {
                // On scroll vers le bas
                nav.classList.add('nav--hidden');
            } else {
                // On scroll vers le haut
                nav.classList.remove('nav--hidden');
            }

            lastScrollTop = currentScroll <= 0 ? 0 : currentScroll; // pour iOS
            });

        </script>




        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const lightbox = document.getElementById('lightbox');
                const lightboxImg = document.getElementById('lightbox-img');
                const closeBtn = document.querySelector('#lightbox .close');

                document.querySelectorAll('#gallery .card img').forEach(img => {
                    img.addEventListener('click', () => {
                        lightboxImg.src = img.src;
                        lightbox.classList.add('active');
                    });
                });

                closeBtn.addEventListener('click', () => {
                    lightbox.classList.remove('active');
                });

                lightbox.addEventListener('click', (e) => {
                    if (e.target === lightbox) {
                        lightbox.classList.remove('active');
                    }
                });
            });

            document.addEventListener('DOMContentLoaded', function () {
                const lightbox = document.getElementById('lightbox');
                const lightboxImg = document.getElementById('lightbox-img');
                const lightboxName = document.getElementById('lightbox-name');
                const lightboxBio = document.getElementById('lightbox-bio');
                const closeBtn = document.querySelector('#lightbox .close');

                // S√©lectionne toutes les cartes tatoueur dans #team
                document.querySelectorAll('#team .card').forEach(card => {
                    card.addEventListener('click', () => {
                        // R√©cup√®re les donn√©es depuis la card
                        const img = card.querySelector('img');
                        const name = card.querySelector('h2').textContent;
                        const bio = card.dataset.bio; // On mettra la bio en data-bio dans Twig (voir √©tape 3)

                        lightboxImg.src = img.src;
                        lightboxImg.alt = `Image de ${name}`;
                        lightboxName.textContent = name;
                        lightboxBio.textContent = bio;

                        lightbox.classList.add('active');
                    });
                });

                closeBtn.addEventListener('click', () => {
                    lightbox.classList.remove('active');
                });

                lightbox.addEventListener('click', (e) => {
                    if (e.target === lightbox) {
                        lightbox.classList.remove('active');
                    }
                });
            });


        </script>

        

    </body>
</html>
